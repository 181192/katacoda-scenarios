{
  "title": "Prometheus Operator SLO Tutorial",
  "description": "SLO tutorial with Prometheus Operator on Kubernetes",
  "difficulty": "Intermediate",
  "time": "30 minutes",
  "details": {
    "steps": [
      {"text": "step1.md"},
      {"text": "step2.md"},
      {"text": "step3.md"},
      {"text": "step4.md"},
      {"text": "step5.md"},
      {"text": "step6.md"},
      {"text": "step7.md"},
      {"text": "step8.md"},
      {"text": "step9.md"},
      {"text": "step10.md"}
    ],
    "assets": {
      "master": [
        {"file": "crds/crd-alertmanagerconfigs.yaml", "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-alertmanagers.yaml",       "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-podmonitors.yaml",         "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-probes.yaml",              "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-prometheuses.yaml",        "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-prometheusrules.yaml",     "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-servicemonitors.yaml",     "target": "/root/manifests/crds/", "chmod": "+rw"},
        {"file": "crds/crd-thanosrulers.yaml",        "target": "/root/manifests/crds/", "chmod": "+rw"},

        {"file": "alertmanager/alertmanager.yaml",    "target": "/root/manifests/alertmanager/", "chmod": "+rw"},
        {"file": "alertmanager/secret.yaml",          "target": "/root/manifests/alertmanager/", "chmod": "+rw"},
        {"file": "alertmanager/service.yaml",         "target": "/root/manifests/alertmanager/", "chmod": "+rw"},
        {"file": "alertmanager/serviceaccount.yaml",  "target": "/root/manifests/alertmanager/", "chmod": "+rw"},

        {"file": "error-service/configmap.yaml",      "target": "/root/manifests/error-service/", "chmod": "+rw"},
        {"file": "error-service/deployment.yaml",     "target": "/root/manifests/error-service/", "chmod": "+rw"},
        {"file": "error-service/ingress.yaml",        "target": "/root/manifests/error-service/", "chmod": "+rw"},
        {"file": "error-service/service.yaml",        "target": "/root/manifests/error-service/", "chmod": "+rw"},

        {"file": "grafana/clusterrole.yaml",                  "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/clusterrolebinding.yaml",           "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/configmap-dashboard-provider.yaml", "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/configmap.yaml",                    "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/configmaps-datasources.yaml",       "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/deployment.yaml",                   "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/role.yaml",                         "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/rolebinding.yaml",                  "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/secret.yaml",                       "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/service.yaml",                      "target": "/root/manifests/grafana/", "chmod": "+rw"},
        {"file": "grafana/serviceaccount.yaml",               "target": "/root/manifests/grafana/", "chmod": "+rw"},

        {"file": "ingress-nginx/clusterrole.yaml",        "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/clusterrolebinding.yaml", "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/configmap.yaml",          "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/deployment.yaml",         "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/role.yaml",               "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/rolebinding.yaml",        "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/service-metrics.yaml",    "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/service.yaml",            "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},
        {"file": "ingress-nginx/serviceaccount.yaml",     "target": "/root/manifests/ingress-nginx/", "chmod": "+rw"},

        {"file": "prometheus/clusterrole.yaml",         "target": "/root/manifests/prometheus/", "chmod": "+rw"},
        {"file": "prometheus/clusterrolebinding.yaml",  "target": "/root/manifests/prometheus/", "chmod": "+rw"},
        {"file": "prometheus/prometheus.yaml",          "target": "/root/manifests/prometheus/", "chmod": "+rw"},
        {"file": "prometheus/service.yaml",             "target": "/root/manifests/prometheus/", "chmod": "+rw"},
        {"file": "prometheus/serviceaccount.yaml",      "target": "/root/manifests/prometheus/", "chmod": "+rw"},

        {"file": "prometheus-operator/clusterrole.yaml",        "target": "/root/manifests/prometheus-operator/", "chmod": "+rw"},
        {"file": "prometheus-operator/clusterrolebinding.yaml", "target": "/root/manifests/prometheus-operator/", "chmod": "+rw"},
        {"file": "prometheus-operator/deployment.yaml",         "target": "/root/manifests/prometheus-operator/", "chmod": "+rw"},
        {"file": "prometheus-operator/service.yaml",            "target": "/root/manifests/prometheus-operator/", "chmod": "+rw"},
        {"file": "prometheus-operator/serviceaccount.yaml",     "target": "/root/manifests/prometheus-operator/", "chmod": "+rw"},

        {"file": "servicemonitors/servicemonitor-alertmanager.yaml",        "target": "/root/manifests/servicemonitors/", "chmod": "+rw"},
        {"file": "servicemonitors/servicemonitor-grafana.yaml",             "target": "/root/manifests/servicemonitors/", "chmod": "+rw"},
        {"file": "servicemonitors/servicemonitor-ingress-nginx.yaml",       "target": "/root/manifests/servicemonitors/", "chmod": "+rw"},
        {"file": "servicemonitors/servicemonitor-prometheus-operator.yaml", "target": "/root/manifests/servicemonitors/", "chmod": "+rw"},
        {"file": "servicemonitors/servicemonitor-prometheus.yaml",          "target": "/root/manifests/servicemonitors/", "chmod": "+rw"}
      ]
    },
    "intro": {
      "text": "intro.md",
      "courseData": "intro.sh"
    },
    "finish": {
      "text": "finish.md"
    }
  },
  "environment": {
    "uilayout": "editor-terminal",
    "uisettings": "yaml",
    "showdashboard": true,
    "dashboards": [
      {"name": "Prometheus", "port": 30090},
      {"name": "Grafana", "port": 30030},
      {"name": "Alertmanager", "port": 30903},
      {"name": "Ingress Nginx", "port": 32080}
    ]
  },
  "backend": {
    "imageid": "kubernetes-cluster-running:1.18"
  }
}
